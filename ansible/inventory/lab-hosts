all:
  vars:
    hostname_suffix_lab: lab.playbox3.local  # same as Fedora hostname
    dir_lab_ca:  "/etc/pki/lab"

cicd:
  hosts:
    localhost:
  vars:
    hostname_cicd: "cicd.{{ hostname_suffix_lab }}"

lab:
  hosts:
    localhost:

web:
  hosts:
    "www.{{ hostname_suffix_lab }}":
db:
  hosts:
    "pg1.{{ hostname_suffix_lab }}":
    "pg2.{{ hostname_suffix_lab }}":
    "pg3.{{ hostname_suffix_lab }}":
gitlab:
  hosts:
    "gitlab.{{ hostname_suffix_lab }}"
  vars:
    external_url: "https://gitlab.{{ hostname_suffix_lab }}"
    gitlab_repo_url: "https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/config_file.repo?os=fedora&dist=42&source=script"
    gitlab_repo_dest: "/etc/yum.repos.d/gitlab_gitlab-ce.repo"
smtp:
  hosts:
    "smtp.{{ hostname_suffix_lab }}"
dns:
  hosts:
    "ns.{{ hostname_suffix_lab }}"
ca:
  hosts:
    localhost:
  vars:
    secret_ca_passphrase: "labCAsetup"
    secret_ca_intermediate_passphrase: "labCAIntersetup"
    ca_o:        "Playbox2Lab"
    ca_ou:       "CA"
    ca_cn:       "CA Root"
    ca_inter_o:  "Playbox2Lab"
    ca_inter_ou: "CA"
    ca_inter_cn: "CA Intermediate"
    gitlab_o:    "Playbox2Lab"
    gitlab_ou:   "CICD"
    gitlab_cn:   "gitlab.{{ hostname_suffix_lab }}"

k8s:
  hosts:
    "k8s.{{ hostname_suffix_lab }}"
  vars:
    k8s_host: "k8s.{{ hostname_suffix_lab }}"
    k8s_port: 6443
    subnet_pod: 10.244.0.0/16
    subnet_service: 10.96.0.0/12
    k8s_version: v1.33.0
    k8s_config_dest: /home/ezech/kubeadm-conf.yaml
